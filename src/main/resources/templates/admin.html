<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- CSS only -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
          integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
<header>


    <nav id="main-navbar" class=" mb-5 navbar navbar-expand-lg fixed-top">
        <!-- Container wrapper -->
        <div class="mynav ">
            <!-- Toggle button -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#sidebarMenu"
                    aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Brand -->
            <a class="navbar-brand" href="#">

                <span>Admin Panel</span>
            </a>

        </div>
    </nav>


</header>


<div class="mymain row flex-wrap container-fluid ">


    <nav id="sidebarMenu" class="col-sm-12 col-md-3  d-lg-block sidebar">

        <div class="list-group list-group-flush mx-3 mt-4">
            <a href="#" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
                <i class="fas fa-tachometer-alt fa-fw me-3"></i><span>Main dashboard</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action py-2 ripple ">
                <i class="fas fa-chart-area fa-fw me-3"></i><span>Webiste traffic</span>
            </a>
            <a href="#" class="list-group-item list-group-item-action py-2 ripple"><i
                    class="fas fa-lock fa-fw me-3"></i><span>Password</span></a>

            <a href="#" class="list-group-item list-group-item-action  py-2 ripple"><i
                    class="fas fa-chart-bar fa-fw me-3"></i><span>Comments</span></a>

            <a href="#" onclick="usertable()" class="list-group-item list-group-item-action py-2 ripple"><i
                    class="fas fa-users  me-3"></i><span>Users</span></a>
            <a href="#" onclick="movietable()" class="list-group-item list-group-item-action py-2 ripple"><i
                    class="fas fa-film  me-3"></i><span>Movies</span></a>
        </div>

    </nav>

    <div class="col-sm-12 mx-3  my-5 col-md-7  d-flex flex-column">

        <div class="d-flex mt-5 justify-content-around">
            <a type="button" href="" class="btn btn-warning mt-3 mb-5"> Yeni Film ekle </a>
            <a type="button" href="" class="btn btn-warning mt-3 mb-5"> Yeni Kullanıcı Ekle </a>
        </div>
        <div class="d-flex justify-content-around">
            <table class=" table table-striped usertable">
                <thead>
                <tr>
                    <th class="text-center" scope="col">#</th>
                    <th class="text-center" scope="col">Name</th>
                    <th class="text-center" scope="col">Surname</th>
                    <th class="text-center" scope="col">Email</th>
                    <th class="text-center" scope="col">Phone</th>
                    <th class="text-center" scope="col">Transactions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="user:${users}">
                    <th th:text="${user.id}" class="text-center" scope="row"></th>
                    <td th:text="${user.name}" class="text-center"></td>
                    <td th:text="${user.surName}" class="text-center"></td>
                    <td th:text="${user.email}" class="text-center"></td>
                    <td th:text="${user.phone}" class="text-center"></td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center">
                            <a class="btn btn-success mx-1"><i class="fa-solid fa-pen-to-square"></i></a>
                            <button class="btn btn-danger"><i class="fa-solid fa-trash"></i></button>
                        </div>
                    </td>
                </tr>


                </tbody>
            </table>
            <table class=" table table-striped  d-none movietable">
                <thead>
                <tr>
                    <th class="text-center" scope="col">#</th>
                    <th class="text-center" scope="col">Name</th>
                    <th class="text-center" scope="col">Premiered</th>
                    <th class="text-center" scope="col">Language</th>
                    <th class="text-center" scope="col">Transactions</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="movie:${movies}">
                    <th th:text="${movie.id}" class="text-center"></th>
                    <td th:text="${movie.name}" class="text-center"></td>
                    <td th:text="${movie.premiered}" class="text-center"></td>
                    <td th:text="${movie.language}" class="text-center"></td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center">
                            <a class="btn btn-success mx-1"><i class="fa-solid fa-pen-to-square"></i></a>
                            <button class="btn btn-danger"><i class="fa-solid fa-trash"></i></button>
                        </div>
                    </td>
                </tr>

                </tbody>
            </table>
        </div>


    </div>
</div>

<script>
    let list = document.querySelectorAll(".list-group-item-action > span")
    console.log(list)

    list.forEach(x => {
        x.addEventListener("click", (e) => {
            list.forEach(z => z.parentElement.classList.remove("active"))
            if (!e.target.parentElement.classList.contains("active")) {
                e.target.parentElement.classList.add("active")
            }
        })

    })


    let utable = document.querySelector(".usertable")
    let mtable = document.querySelector(".movietable")

    function usertable() {

        if (utable.classList.contains("d-none")) {

            utable.classList.remove("d-none")
            mtable.classList.add("d-none")
        }


    }

    function movietable() {

        if (mtable.classList.contains("d-none")) {
            mtable.classList.remove("d-none")
            utable.classList.add("d-none")
        }
    }
</script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous">
</script>
</body>

</html>